"use strict";(self.webpackChunkrecuento_inventory=self.webpackChunkrecuento_inventory||[]).push([[507],{6272:(w,g,l)=>{l.r(g),l.d(g,{OrderRequestListComponent:()=>O});var h=l(177),x=l(8094),e=l(4438),y=l(8415);const k=(n,c,t,a,o)=>({"bg-yellow-100 text-yellow-800":n,"bg-green-100 text-green-800":c,"bg-red-100 text-red-800":t,"bg-blue-100 text-blue-800":a,"bg-gray-100 text-gray-800":o}),F=n=>["/solicitudes",n,"editar"];function f(n,c){1&n&&(e.j41(0,"tr")(1,"td",33)(2,"div",34),e.qSk(),e.j41(3,"svg",35),e.nrm(4,"path",13)(5,"path",14),e.k0s(),e.joV(),e.j41(6,"p",36),e.EFF(7,"No hay solicitudes"),e.k0s(),e.j41(8,"p",37),e.EFF(9,"Crea tu primera solicitud de pedido"),e.k0s()()()())}function R(n,c){if(1&n&&(e.j41(0,"a",55),e.qSk(),e.j41(1,"svg",50),e.nrm(2,"path",56),e.k0s()()),2&n){const t=e.XpG().$implicit;e.Y8G("routerLink",e.eq3(1,F,t.id))}}function j(n,c){if(1&n){const t=e.RV6();e.j41(0,"button",57),e.bIt("click",function(){e.eBV(t);const o=e.XpG().$implicit,v=e.XpG();return e.Njj(v.deleteOrderRequest(o))}),e.qSk(),e.j41(1,"svg",50),e.nrm(2,"path",58),e.k0s()()}}function I(n,c){if(1&n){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"div",38)(3,"div",39)(4,"div",40),e.qSk(),e.j41(5,"svg",41),e.nrm(6,"path",13)(7,"path",14),e.k0s()()(),e.joV(),e.j41(8,"div",42)(9,"p",43),e.EFF(10),e.k0s(),e.j41(11,"p",44),e.EFF(12),e.k0s()()()(),e.j41(13,"td",45),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.j41(16,"td",45),e.EFF(17),e.k0s(),e.j41(18,"td",45),e.EFF(19),e.k0s(),e.j41(20,"td",46),e.EFF(21),e.k0s(),e.j41(22,"td")(23,"span",47),e.EFF(24),e.k0s()(),e.j41(25,"td")(26,"div",48)(27,"button",49),e.bIt("click",function(){const o=e.eBV(t).$implicit,v=e.XpG();return e.Njj(v.viewOrderRequest(o))}),e.qSk(),e.j41(28,"svg",50),e.nrm(29,"path",51)(30,"path",52),e.k0s()(),e.DNE(31,R,3,3,"a",53)(32,j,3,0,"button",54),e.k0s()()()}if(2&n){const t=c.$implicit;e.R7$(10),e.SpI(" ",t.numeroPedido," "),e.R7$(2),e.SpI(" ID: ",t.id," "),e.R7$(2),e.SpI(" ",e.i5U(15,10,t.fecha,"dd/MM/yyyy")," "),e.R7$(3),e.SpI(" ",t.dependencia," "),e.R7$(2),e.SpI(" ",t.funcionarioAutorizado," "),e.R7$(2),e.SpI(" ",t.productos.length," productos "),e.R7$(2),e.Y8G("ngClass",e.s1E(13,k,"PENDIENTE"===t.estado,"APROBADO"===t.estado,"RECHAZADO"===t.estado,"ENTREGADO"===t.estado,"CANCELADO"===t.estado)),e.R7$(),e.SpI(" ",t.estado," "),e.R7$(7),e.Y8G("ngIf","PENDIENTE"===t.estado),e.R7$(),e.Y8G("ngIf","PENDIENTE"===t.estado)}}function b(n,c){if(1&n&&(e.j41(0,"tr")(1,"td",75),e.EFF(2),e.k0s(),e.j41(3,"td",75),e.EFF(4),e.k0s(),e.j41(5,"td",75),e.EFF(6),e.k0s(),e.j41(7,"td",76),e.EFF(8),e.k0s()()),2&n){const t=c.$implicit;e.R7$(2),e.SpI(" ",t.numeroOrden," "),e.R7$(2),e.SpI(" ",t.descripcion," "),e.R7$(2),e.SpI(" ",t.cantidadSolicitada," "),e.R7$(2),e.SpI(" ",t.observaciones||"-"," ")}}function E(n,c){if(1&n){const t=e.RV6();e.j41(0,"div",59),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.closeModal())}),e.j41(1,"div",60),e.bIt("click",function(o){return e.eBV(t),e.Njj(o.stopPropagation())}),e.j41(2,"div",61)(3,"div",62)(4,"h3",63),e.EFF(5," Detalles de la Solicitud "),e.k0s(),e.j41(6,"button",64),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.closeModal())}),e.qSk(),e.j41(7,"svg",65),e.nrm(8,"path",66),e.k0s()()(),e.joV(),e.j41(9,"div",67)(10,"div",68)(11,"div")(12,"p",69),e.EFF(13," N\xfamero de Pedido "),e.k0s(),e.j41(14,"p",45),e.EFF(15),e.k0s()(),e.j41(16,"div")(17,"p",69),e.EFF(18,"Fecha"),e.k0s(),e.j41(19,"p",45),e.EFF(20),e.nI1(21,"date"),e.k0s()(),e.j41(22,"div")(23,"p",69),e.EFF(24,"Dependencia"),e.k0s(),e.j41(25,"p",45),e.EFF(26),e.k0s()(),e.j41(27,"div")(28,"p",69),e.EFF(29,"Estado"),e.k0s(),e.j41(30,"span",47),e.EFF(31),e.k0s()()(),e.j41(32,"div")(33,"p",70),e.EFF(34," Funcionario Autorizado "),e.k0s(),e.j41(35,"p",45),e.EFF(36),e.k0s()(),e.j41(37,"div")(38,"p",70),e.EFF(39," Productos Solicitados "),e.k0s(),e.j41(40,"div",71)(41,"table",72)(42,"thead",29)(43,"tr")(44,"th",73),e.EFF(45," N\xb0 Orden "),e.k0s(),e.j41(46,"th",73),e.EFF(47," Descripci\xf3n "),e.k0s(),e.j41(48,"th",73),e.EFF(49," Cantidad "),e.k0s(),e.j41(50,"th",73),e.EFF(51," Observaciones "),e.k0s()()(),e.j41(52,"tbody",74),e.DNE(53,b,9,4,"tr",31),e.k0s()()()()()()()()}if(2&n){const t=e.XpG();e.R7$(15),e.SpI(" ",t.selectedOrderRequest.numeroPedido," "),e.R7$(5),e.SpI(" ",e.i5U(21,7,t.selectedOrderRequest.fecha,"dd/MM/yyyy")," "),e.R7$(6),e.SpI(" ",t.selectedOrderRequest.dependencia," "),e.R7$(4),e.Y8G("ngClass",e.s1E(10,k,"PENDIENTE"===t.selectedOrderRequest.estado,"APROBADO"===t.selectedOrderRequest.estado,"RECHAZADO"===t.selectedOrderRequest.estado,"ENTREGADO"===t.selectedOrderRequest.estado,"CANCELADO"===t.selectedOrderRequest.estado)),e.R7$(),e.SpI(" ",t.selectedOrderRequest.estado," "),e.R7$(5),e.SpI(" ",t.selectedOrderRequest.funcionarioAutorizado," "),e.R7$(17),e.Y8G("ngForOf",t.selectedOrderRequest.productos)}}let O=(()=>{class n{constructor(t){this.orderRequestService=t,this.selectedOrderRequest=null,this.orderRequests$=this.orderRequestService.getOrderRequests()}ngOnInit(){}getPendingCount(){return 1}getApprovedCount(){return 0}getDeliveredCount(){return 0}viewOrderRequest(t){this.selectedOrderRequest=t}closeModal(){this.selectedOrderRequest=null}deleteOrderRequest(t){confirm(`\xbfEst\xe1s seguro de que deseas eliminar la solicitud "${t.numeroPedido}"?`)&&this.orderRequestService.deleteOrderRequest(t.id).subscribe({next:()=>{console.log("Solicitud eliminada exitosamente")},error:a=>{console.error("Error al eliminar solicitud:",a),alert("Error al eliminar la solicitud. Intenta de nuevo.")}})}static{this.\u0275fac=function(a){return new(a||n)(e.rXU(y.z))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-order-request-list"]],standalone:!0,features:[e.aNF],decls:81,vars:13,consts:[[1,"space-y-6"],[1,"flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600"],["routerLink","/solicitudes/nueva",1,"btn","btn-primary","flex","items-center","space-x-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-6"],[1,"card","p-6"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-gray-600"],[1,"w-12","h-12","bg-blue-100","rounded-lg","flex","items-center","justify-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-6","h-6","text-blue-600"],["d","M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"],["fill-rule","evenodd","d","M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3z","clip-rule","evenodd"],[1,"text-2xl","font-bold","text-yellow-600"],[1,"w-12","h-12","bg-yellow-100","rounded-lg","flex","items-center","justify-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-6","h-6","text-yellow-600"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule","evenodd"],[1,"text-2xl","font-bold","text-green-600"],[1,"w-12","h-12","bg-green-100","rounded-lg","flex","items-center","justify-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-6","h-6","text-green-600"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule","evenodd"],[1,"text-2xl","font-bold","text-blue-600"],["d","M8 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM15 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z"],["d","M3 4a1 1 0 00-1 1v10a1 1 0 001 1h1.05a2.5 2.5 0 014.9 0H10a1 1 0 001-1V5a1 1 0 00-1-1H3zM14 7a1 1 0 00-1 1v6.05A2.5 2.5 0 0115.95 16H17a1 1 0 001-1V8a1 1 0 00-1-1h-3z"],[1,"card","overflow-hidden"],[1,"overflow-x-auto"],[1,"table"],[1,"bg-gray-50"],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",3,"click",4,"ngIf"],["colspan","7",1,"text-center","py-12","text-gray-500"],[1,"flex","flex-col","items-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-16","h-16","mb-4","text-gray-300"],[1,"text-lg","font-medium"],[1,"text-sm"],[1,"flex","items-center"],[1,"flex-shrink-0"],[1,"w-10","h-10","bg-primary-100","rounded-lg","flex","items-center","justify-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","text-primary-600"],[1,"ml-3"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-xs","text-gray-500"],[1,"text-sm","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"flex","items-center","space-x-2"],["title","Ver detalles",1,"text-primary-600","hover:text-primary-900","text-sm",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"],["class","text-green-600 hover:text-green-900 text-sm","title","Editar",3,"routerLink",4,"ngIf"],["class","text-red-600 hover:text-red-900 text-sm","title","Eliminar",3,"click",4,"ngIf"],["title","Editar",1,"text-green-600","hover:text-green-900","text-sm",3,"routerLink"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"],["title","Eliminar",1,"text-red-600","hover:text-red-900","text-sm",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1-1H8a1 1 0 00-1 1v3M4 7h16"],[1,"fixed","inset-0","bg-gray-600","bg-opacity-50","overflow-y-auto","h-full","w-full","z-50",3,"click"],[1,"relative","top-20","mx-auto","p-5","border","w-11/12","md:w-3/4","lg:w-1/2","shadow-lg","rounded-md","bg-white",3,"click"],[1,"mt-3"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-medium","text-gray-900"],[1,"text-gray-400","hover:text-gray-600",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18L18 6M6 6l12 12"],[1,"space-y-4"],[1,"grid","grid-cols-2","gap-4"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-sm","font-medium","text-gray-500","mb-2"],[1,"border","rounded-lg","overflow-hidden"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"px-4","py-2","text-left","text-xs","font-medium","text-gray-500","uppercase"],[1,"bg-white","divide-y","divide-gray-200"],[1,"px-4","py-2","text-sm","text-gray-900"],[1,"px-4","py-2","text-sm","text-gray-500"]],template:function(a,o){if(1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),e.EFF(4," Solicitudes de Pedido "),e.k0s(),e.j41(5,"p",3),e.EFF(6," Gesti\xf3n de solicitudes de pedidos de inventario "),e.k0s()(),e.j41(7,"a",4),e.qSk(),e.j41(8,"svg",5),e.nrm(9,"path",6),e.k0s(),e.joV(),e.j41(10,"span"),e.EFF(11,"Nueva Solicitud"),e.k0s()()(),e.j41(12,"div",7)(13,"div",8)(14,"div",9)(15,"div")(16,"p",10),e.EFF(17,"Total Solicitudes"),e.k0s(),e.j41(18,"p",2),e.EFF(19),e.nI1(20,"async"),e.k0s()(),e.j41(21,"div",11),e.qSk(),e.j41(22,"svg",12),e.nrm(23,"path",13)(24,"path",14),e.k0s()()()(),e.joV(),e.j41(25,"div",8)(26,"div",9)(27,"div")(28,"p",10),e.EFF(29,"Pendientes"),e.k0s(),e.j41(30,"p",15),e.EFF(31),e.k0s()(),e.j41(32,"div",16),e.qSk(),e.j41(33,"svg",17),e.nrm(34,"path",18),e.k0s()()()(),e.joV(),e.j41(35,"div",8)(36,"div",9)(37,"div")(38,"p",10),e.EFF(39,"Aprobadas"),e.k0s(),e.j41(40,"p",19),e.EFF(41),e.k0s()(),e.j41(42,"div",20),e.qSk(),e.j41(43,"svg",21),e.nrm(44,"path",22),e.k0s()()()(),e.joV(),e.j41(45,"div",8)(46,"div",9)(47,"div")(48,"p",10),e.EFF(49,"Entregadas"),e.k0s(),e.j41(50,"p",23),e.EFF(51),e.k0s()(),e.j41(52,"div",11),e.qSk(),e.j41(53,"svg",12),e.nrm(54,"path",24)(55,"path",25),e.k0s()()()()(),e.joV(),e.j41(56,"div",26)(57,"div",27)(58,"table",28)(59,"thead",29)(60,"tr")(61,"th"),e.EFF(62,"N\xfamero de Pedido"),e.k0s(),e.j41(63,"th"),e.EFF(64,"Fecha"),e.k0s(),e.j41(65,"th"),e.EFF(66,"Dependencia"),e.k0s(),e.j41(67,"th"),e.EFF(68,"Funcionario Autorizado"),e.k0s(),e.j41(69,"th"),e.EFF(70,"Productos"),e.k0s(),e.j41(71,"th"),e.EFF(72,"Estado"),e.k0s(),e.j41(73,"th"),e.EFF(74,"Acciones"),e.k0s()()(),e.j41(75,"tbody"),e.DNE(76,f,10,0,"tr",30),e.nI1(77,"async"),e.DNE(78,I,33,19,"tr",31),e.nI1(79,"async"),e.k0s()()()()(),e.DNE(80,E,54,16,"div",32)),2&a){let v,m;e.R7$(19),e.SpI(" ",(null==(v=e.bMT(20,7,o.orderRequests$))?null:v.length)||0," "),e.R7$(12),e.SpI(" ",o.getPendingCount()," "),e.R7$(10),e.SpI(" ",o.getApprovedCount()," "),e.R7$(10),e.SpI(" ",o.getDeliveredCount()," "),e.R7$(25),e.Y8G("ngIf",0===(null==(m=e.bMT(77,9,o.orderRequests$))?null:m.length)),e.R7$(2),e.Y8G("ngForOf",e.bMT(79,11,o.orderRequests$)),e.R7$(2),e.Y8G("ngIf",o.selectedOrderRequest)}},dependencies:[h.MD,h.YU,h.Sq,h.bT,h.Jj,h.vh,x.iI,x.Wk],encapsulation:2})}}return n})()},8384:(w,g,l)=>{l.d(g,{c:()=>A});var h=l(8359);class x extends h.yU{constructor(r,s){super()}schedule(r,s=0){return this}}const e={setInterval(d,r,...s){const{delegate:i}=e;return i?.setInterval?i.setInterval(d,r,...s):setInterval(d,r,...s)},clearInterval(d){const{delegate:r}=e;return(r?.clearInterval||clearInterval)(d)},delegate:void 0};var y=l(7908);const F={now:()=>(F.delegate||Date).now(),delegate:void 0};class f{constructor(r,s=f.now){this.schedulerActionCtor=r,this.now=s}schedule(r,s=0,i){return new this.schedulerActionCtor(this,r).schedule(i,s)}}f.now=F.now;const j=new class R extends f{constructor(r,s=f.now){super(r,s),this.actions=[],this._active=!1}flush(r){const{actions:s}=this;if(this._active)return void s.push(r);let i;this._active=!0;do{if(i=r.execute(r.state,r.delay))break}while(r=s.shift());if(this._active=!1,i){for(;r=s.shift();)r.unsubscribe();throw i}}}(class k extends x{constructor(r,s){super(r,s),this.scheduler=r,this.work=s,this.pending=!1}schedule(r,s=0){var i;if(this.closed)return this;this.state=r;const u=this.id,p=this.scheduler;return null!=u&&(this.id=this.recycleAsyncId(p,u,s)),this.pending=!0,this.delay=s,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(p,this.id,s),this}requestAsyncId(r,s,i=0){return e.setInterval(r.flush.bind(r,this),i)}recycleAsyncId(r,s,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return s;null!=s&&e.clearInterval(s)}execute(r,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(r,s);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(r,s){let u,i=!1;try{this.work(r)}catch(p){i=!0,u=p||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),u}unsubscribe(){if(!this.closed){const{id:r,scheduler:s}=this,{actions:i}=s;this.work=this.state=this.scheduler=null,this.pending=!1,(0,y.o)(i,this),null!=r&&(this.id=this.recycleAsyncId(s,r,null)),this.delay=null,super.unsubscribe()}}}),I=j;var b=l(8793),E=l(6697),O=l(9974),n=l(4360),c=l(5343),a=l(3703),o=l(1397),v=l(8750);function m(d,r){return r?s=>(0,b.x)(r.pipe((0,E.s)(1),function t(){return(0,O.N)((d,r)=>{d.subscribe((0,n._)(r,c.l))})}()),s.pipe(m(d))):(0,o.Z)((s,i)=>(0,v.Tg)(d(s,i)).pipe((0,E.s)(1),(0,a.u)(s)))}var _=l(1985),C=l(9470);function A(d,r=j){const s=function S(d=0,r,s=I){let i=-1;return null!=r&&((0,C.m)(r)?s=r:i=r),new _.c(u=>{let p=function q(d){return d instanceof Date&&!isNaN(d)}(d)?+d-s.now():d;p<0&&(p=0);let $=0;return s.schedule(function(){u.closed||(u.next($++),0<=i?this.schedule(void 0,i):u.complete())},p)})}(d,r);return m(()=>s)}}}]);